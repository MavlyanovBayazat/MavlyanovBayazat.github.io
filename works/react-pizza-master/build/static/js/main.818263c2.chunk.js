(this.webpackJsonppizza_app=this.webpackJsonppizza_app||[]).push([[0],{26:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){var a={"./01.png":42,"./02.png":43,"./03.png":44,"./04.png":45,"./05.png":46,"./06.png":47,"./07.png":48,"./08.png":49};function i(e){var t=n(e);return c(t)}function n(e){if(!c.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id=41},42:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/01.0909e3c0.png"},43:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/02.51cd5121.png"},44:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/03.87f37ef5.png"},45:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/04.ff163fed.png"},46:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/05.0909e3c0.png"},47:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/06.51cd5121.png"},48:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/07.87f37ef5.png"},49:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/08.ff163fed.png"},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var a=c(1),i=c.n(a),n=c(15),r=c.n(n),s=c(10),j=c(4),d=c.p+"static/media/cart-black.dcd51680.svg",l=c.p+"static/media/basket.ceafcffb.svg",o=c.p+"static/media/arrow-left.fc29ec73.svg",u=c.p+"static/media/empty-cart.fa094139.svg",b=c(3),m=c(20),O=(c(26),c(0)),p=["className","theme","to"];function f(e){var t=e.className,c=void 0===t?"":t,a=e.theme,i=void 0===a?"fill":a,n=e.to,r=Object(m.a)(e,p),j="btn ";return j+="btn-".concat(i,"-primary "),j+=c,n?Object(O.jsx)(s.b,Object(b.a)(Object(b.a)({to:n,className:j},r),{},{children:e.children})):Object(O.jsx)("button",Object(b.a)(Object(b.a)({className:j},r),{},{children:e.children}))}c(36),c(37);var h=c.p+"static/media/minus.6c093cd4.svg",x=c.p+"static/media/plus.deedb499.svg",v=c.p+"static/media/del.2d1f53ca.svg",z=c(6),g=c(13),_=c(12),N=Object(_.b)({name:"cart",initialState:{cart:{}},reducers:{addToCart:function(e,t){var c=t.payload.pizza;e.cart[c.id]?e.cart=Object(b.a)(Object(b.a)({},e.cart),{},Object(g.a)({},c.id,Object(b.a)(Object(b.a)({},e.cart[c.id]),{},{count:e.cart[c.id].count+1}))):e.cart=Object(b.a)(Object(b.a)({},e.cart),{},Object(g.a)({},c.id,{count:1,pizza:c}))},deleteFromCart:function(e,t){var c=t.payload,a=c.pizza,i=c.deleteAll,n=void 0!==i&&i;if(e.cart[a.id]&&e.cart[a.id].count>1&&!n)e.cart=Object(b.a)(Object(b.a)({},e.cart),{},Object(g.a)({},a.id,Object(b.a)(Object(b.a)({},e.cart[a.id]),{},{count:e.cart[a.id].count-1})));else{var r=Object(b.a)({},e.cart);delete r[a.id],e.cart=r}}}}),C=N.actions,y=C.addToCart,I=C.deleteFromCart,k=N.reducer;function P(e){var t=e.item,c=t.count,a=t.pizza,i=a.image,n=a.name,r=a.price,s=Object(z.b)();return Object(O.jsxs)("div",{className:"CartItem",children:[Object(O.jsxs)("div",{className:"CartItem__preview",children:[Object(O.jsx)("img",{src:i,className:"CartItem__image"}),Object(O.jsx)("div",{className:"CartItem__info",children:Object(O.jsx)("h3",{children:n})})]}),Object(O.jsxs)("div",{className:"CartItem__controls",children:[Object(O.jsx)(f,{theme:"outline",onClick:function(){return s(I({pizza:t.pizza}))},children:Object(O.jsx)("img",{src:h})}),Object(O.jsx)("span",{children:c}),Object(O.jsx)(f,{theme:"outline",onClick:function(){return s(y({pizza:t.pizza}))},children:Object(O.jsx)("img",{src:x})})]}),Object(O.jsx)("div",{className:"CartItem__sum",children:c*r}),Object(O.jsx)(f,{theme:"outline",className:"CartItem__delete",onClick:function(){return s(I({pizza:t.pizza,deleteAll:!0}))},children:Object(O.jsx)("img",{src:v})})]})}function w(){var e=Object(z.c)((function(e){return e.cart.cart})),t=0,c=0;return Object.values(e).forEach((function(e){t+=e.count*e.pizza.price,c+=e.count})),Object.keys(e).length?Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"Cart",children:[Object(O.jsxs)("div",{className:"Cart__title-wrap",children:[Object(O.jsxs)("div",{className:"Cart__title",children:[Object(O.jsx)("img",{src:d}),Object(O.jsx)("h1",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})]}),Object(O.jsxs)(f,{className:"Cart__clear-btn",children:[Object(O.jsx)("img",{src:l}),Object(O.jsx)("span",{children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]}),Object(O.jsx)("div",{className:"Cart__list",children:Object.values(e).map((function(e){return Object(O.jsx)(P,{item:e},e.pizza.id)}))}),Object(O.jsxs)("div",{className:"Cart__summary",children:[Object(O.jsxs)("div",{className:"Cart__count",children:["\u0412\u0441\u0435\u0433\u043e \u043f\u0438\u0446\u0446: ",Object(O.jsxs)("b",{children:[c," \u0448\u0442."]})]}),Object(O.jsxs)("div",{className:"Cart__sum",children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",Object(O.jsxs)("b",{children:[t," \u20bd"]})]})]}),Object(O.jsxs)("div",{className:"Cart__actions",children:[Object(O.jsxs)(f,{className:"Cart__back",to:"/",children:[Object(O.jsx)("img",{src:o}),Object(O.jsx)("span",{children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})]}),Object(O.jsx)(f,{children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441"})]})]})}):Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"Cart",style:{textAlign:"center"},children:Object(O.jsx)(s.b,{to:"/",children:Object(O.jsx)("img",{src:u})})})})}var E=c.p+"static/media/cart.d05720f2.svg";c(39);function L(){var e=Object(z.c)((function(e){return e.cart.cart})),t=0,c=0;return Object.values(e).forEach((function(e){t+=e.count*e.pizza.price,c+=e.count})),Object(O.jsxs)(f,{className:"CartBtn",to:"/cart",style:{textDecoration:"none"},children:[Object(O.jsxs)("span",{className:"CartBtn__price",children:[t," \u20bd"]}),Object(O.jsx)("img",{className:"CartBtn__icon",src:E}),Object(O.jsx)("span",{className:"CartBtn__count",children:c})]})}var B=c.p+"static/media/logo.0c2284f9.svg";function M(){return Object(O.jsx)("div",{className:"Logo",children:Object(O.jsx)("img",{src:B})})}c(40);function A(){return Object(O.jsx)("header",{className:"Header",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(M,{}),Object(O.jsx)(L,{})]})})}var S={code:500,message:"Internal Server Error"},T=1,D=[{id:T++,name:"\u0427\u0438\u0437\u0431\u0443\u0440\u0433\u0435\u0440-\u043f\u0438\u0446\u0446\u0430",price:395},{id:T++,name:"\u0421\u044b\u0440\u043d\u0430\u044f",price:450},{id:T++,name:"\u041a\u0440\u0435\u0432\u0435\u0442\u043a\u0438 \u043f\u043e-\u0430\u0437\u0438\u0430\u0442\u0441\u043a\u0438",price:290},{id:T++,name:"\u0421\u044b\u0440\u043d\u044b\u0439 \u0446\u044b\u043f\u043b\u0435\u043d\u043e\u043a",price:385},{id:T++,name:"\u0427\u0438\u0437\u0431\u0443\u0440\u0433\u0435\u0440-\u043f\u0438\u0446\u0446\u0430",price:395},{id:T++,name:"\u0421\u044b\u0440\u043d\u0430\u044f",price:450},{id:T++,name:"\u041a\u0440\u0435\u0432\u0435\u0442\u043a\u0438 \u043f\u043e-\u0430\u0437\u0438\u0430\u0442\u0441\u043a\u0438",price:290},{id:T++,name:"\u0421\u044b\u0440\u043d\u044b\u0439 \u0446\u044b\u043f\u043b\u0435\u043d\u043e\u043a",price:385}].map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{image:c(41)("./".concat(t+1>9?t+1:"0"+(t+1),".png")).default})})),F=function(){return new Promise((function(e,t){setTimeout((function(){Math.random()>.2&&e({pizzas:D}),t({error:S})}),1e3*Math.floor(3*Math.random()))}))};c(50);function J(e){var t=e.pizza,c=Object(z.c)((function(e){return e.cart.cart})),a=Object(z.b)(),i=c[t.id];return Object(O.jsxs)("div",{className:"PizzaItem",children:[Object(O.jsx)("img",{className:"PizzaItem__img",src:t.image}),Object(O.jsx)("h3",{className:"PizzaItem__name",children:t.name}),Object(O.jsxs)("div",{className:"PizzaItem__controls",children:[Object(O.jsxs)("strong",{className:"PizzaItem__price",children:["\u043e\u0442 ",t.price," \u20bd"]}),Object(O.jsxs)(f,{theme:"outline",onClick:function(){return a(y({pizza:t}))},children:[Object(O.jsx)("span",{children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),i&&Object(O.jsx)("span",{className:"PizzaItem__count",children:i.count})]})]})]})}c(51);var U=Object(_.b)({name:"cart",initialState:{loading:!1,error:null,list:[]},reducers:{setLoading:function(e,t){var c=t.payload;e.loading=c},setError:function(e,t){var c=t.payload;e.error=c},setPizzasList:function(e,t){var c=t.payload;e.list=c}}}),H=U.actions,q=H.setLoading,G=H.setError,K=H.setPizzasList,Q=U.reducer;function R(){var e=Object(z.b)(),t=Object(z.c)((function(e){return e.pizzas}));Object(a.useEffect)((function(){c()}),[]);var c=function(){t.list.length||(e(q(!0)),F().then((function(t){return e(K(t.pizzas))})).catch((function(t){return e(G(t.error))})).finally((function(){return e(q(!1))})))};return console.log(t),t.loading?Object(O.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):t.error?Object(O.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430: ",t.error.code," - ",t.error.message]}):Object(O.jsx)("div",{className:"PizzaList",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{className:"PizzaList__title",children:"\u0412\u0441\u0435 \u043f\u0438\u0446\u0446\u044b"}),Object(O.jsx)("div",{className:"PizzaList__wrap",children:t.list.map((function(e,t){return Object(O.jsx)(J,{pizza:e},t)}))})]})})}var V=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(j.c,{children:[Object(O.jsxs)(j.a,{path:"/cart",children:[Object(O.jsx)(A,{}),Object(O.jsx)(w,{})]}),Object(O.jsxs)(j.a,{path:"/",children:[Object(O.jsx)(A,{}),Object(O.jsx)(R,{})]})]})})},W=(c(52),Object(_.a)({reducer:{cart:k,pizzas:Q}}));r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(s.a,{children:Object(O.jsx)(z.a,{store:W,children:Object(O.jsx)(V,{})})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.818263c2.chunk.js.map