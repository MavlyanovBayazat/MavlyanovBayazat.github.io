{"version":3,"sources":["images/pizzas sync /^/.*/.png$","images/pizzas/01.png","images/pizzas/02.png","images/pizzas/03.png","images/pizzas/04.png","images/pizzas/05.png","images/pizzas/06.png","images/pizzas/07.png","images/pizzas/08.png","images/icons/cart-black.svg","images/icons/basket.svg","images/icons/arrow-left.svg","images/empty-cart.svg","components/btn/Btn.js","images/icons/minus.svg","images/icons/plus.svg","images/icons/del.svg","store/cart.js","components/cart-item/CartItem.js","components/cart/Cart.js","images/icons/cart.svg","components/cart-btn/CartBtn.js","images/logo.svg","components/logo/Logo.js","components/header/Header.js","api/index.js","components/pizza-item/PizzaItem.js","store/pizza.js","components/pizza-list/PizzaList.js","App.js","store/index.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Btn","props","className","customClassName","theme","to","rest","children","cartSlice","createSlice","name","initialState","cart","reducers","addToCart","state","pizza","payload","count","deleteFromCart","deleteAll","newCart","actions","CartItem","item","image","price","dispatch","useDispatch","src","onClick","minusIcon","plusIcon","delIcon","Cart","useSelector","cartPrice","cartLength","values","forEach","cartItem","length","cartImg","basketImg","arrowLeftImg","style","textAlign","emptyCartImg","CartBtn","textDecoration","CartImg","Logo","logo","Header","ERR_500","message","ID","PIZZAS","p","idx","require","default","api","Promise","reject","setTimeout","Math","random","pizzas","error","floor","PizzaItem","cartData","pizzaSlice","loading","list","setLoading","setError","setPizzasList","PizzaList","useEffect","loadPizzas","then","res","catch","err","finally","console","log","pizzaData","App","path","store","configureStore","reducer","cartReducer","pizzasReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.818263c2.chunk.js","sourcesContent":["var map = {\n\t\"./01.png\": 42,\n\t\"./02.png\": 43,\n\t\"./03.png\": 44,\n\t\"./04.png\": 45,\n\t\"./05.png\": 46,\n\t\"./06.png\": 47,\n\t\"./07.png\": 48,\n\t\"./08.png\": 49\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 41;","export default __webpack_public_path__ + \"static/media/01.0909e3c0.png\";","export default __webpack_public_path__ + \"static/media/02.51cd5121.png\";","export default __webpack_public_path__ + \"static/media/03.87f37ef5.png\";","export default __webpack_public_path__ + \"static/media/04.ff163fed.png\";","export default __webpack_public_path__ + \"static/media/05.0909e3c0.png\";","export default __webpack_public_path__ + \"static/media/06.51cd5121.png\";","export default __webpack_public_path__ + \"static/media/07.87f37ef5.png\";","export default __webpack_public_path__ + \"static/media/08.ff163fed.png\";","export default __webpack_public_path__ + \"static/media/cart-black.dcd51680.svg\";","export default __webpack_public_path__ + \"static/media/basket.ceafcffb.svg\";","export default __webpack_public_path__ + \"static/media/arrow-left.fc29ec73.svg\";","export default __webpack_public_path__ + \"static/media/empty-cart.fa094139.svg\";","import { Link } from 'react-router-dom'\nimport './Btn.scss'\n\nfunction Btn(props) {\n\n  let {\n    className: customClassName = '',\n    theme = 'fill',\n    to,\n    ...rest\n  } = props\n\n  let className = \"btn \"\n  className += `btn-${theme}-primary `\n  className += customClassName\n\n  if (to) {\n    return (\n      <Link to={to} className={className} {...rest}>\n        {props.children}\n      </Link>\n    )\n  }\n\n  return (\n    <button className={className} {...rest}>\n      {props.children}\n    </button>\n  )\n}\n\nexport { Btn }","export default __webpack_public_path__ + \"static/media/minus.6c093cd4.svg\";","export default __webpack_public_path__ + \"static/media/plus.deedb499.svg\";","export default __webpack_public_path__ + \"static/media/del.2d1f53ca.svg\";","import { createSlice } from '@reduxjs/toolkit'\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    cart: {}\n  },\n  reducers: {\n    addToCart: (state, {payload: {pizza}}) => {\n      // 1. Проверяю есть ли в корзине эта пицца\n      if (state.cart[pizza.id]) {\n        // 2. Если уже есть: Увеличиваю count у этой пиццы на 1\n        state.cart = {\n          ...state.cart,\n          [pizza.id]: {\n            ...state.cart[pizza.id],\n            count: state.cart[pizza.id].count + 1,\n          }\n        }\n      } else {\n        // 2. Если нету: Добавляю в корзину\n        state.cart = {\n          ...state.cart,\n          [pizza.id]: {\n            count: 1,\n            pizza: pizza\n          }\n        }\n      }\n    },\n    deleteFromCart: (state, {payload: {pizza, deleteAll = false}}) => {\n      // 1. Проверяю есть ли в корзине эта пицца и кол-во больше 1\n      if (state.cart[pizza.id] && state.cart[pizza.id].count > 1 && !deleteAll) {\n        // 2. Если уже есть и кол-во больше 1: Уменьшаю count у этой пиццы на 1\n        state.cart = {\n          ...state.cart,\n          [pizza.id]: {\n            ...state.cart[pizza.id],\n            count: state.cart[pizza.id].count - 1,\n          }\n        }\n      } else {\n        // 2. Если вдруг пиццы такой нету или кол-во = 1: Удаляю из корзины\n        const newCart = {...state.cart}\n        delete newCart[pizza.id]\n  \n        state.cart = newCart\n      }\n    },\n  },\n})\n\nexport const { addToCart, deleteFromCart } = cartSlice.actions\n\nexport default cartSlice.reducer","import { Btn } from \"../btn/Btn\"\nimport './CartItem.scss'\n\nimport minusIcon from '../../images/icons/minus.svg'\nimport plusIcon from '../../images/icons/plus.svg'\nimport delIcon from '../../images/icons/del.svg'\nimport { useDispatch } from \"react-redux\"\nimport { addToCart, deleteFromCart } from \"../../store/cart\"\n\nfunction CartItem({item}) {\n  const {count, pizza: {image, name, price}} = item\n  \n  const dispatch = useDispatch()\n\n  return (\n    <div className=\"CartItem\">\n      <div className=\"CartItem__preview\">\n        <img src={image} className=\"CartItem__image\" />\n        <div className=\"CartItem__info\">\n          <h3>{name}</h3>\n        </div>\n      </div>\n      <div className=\"CartItem__controls\">\n        <Btn theme=\"outline\" onClick={() => dispatch(deleteFromCart({pizza: item.pizza}))}>\n          <img src={minusIcon} />\n        </Btn>\n        <span>{count}</span>\n        <Btn theme=\"outline\" onClick={() => dispatch(addToCart({ pizza: item.pizza }))}>\n          <img src={plusIcon} />\n        </Btn>\n      </div>\n      <div className=\"CartItem__sum\">{count * price}</div>\n      <Btn theme=\"outline\" className=\"CartItem__delete\"\n           onClick={() => dispatch(deleteFromCart({ pizza: item.pizza, deleteAll: true}))}>\n        <img src={delIcon} />\n      </Btn>\n    </div>\n  )\n}\n\nexport {CartItem}","import cartImg from '../../images/icons/cart-black.svg'\nimport basketImg from '../../images/icons/basket.svg'\nimport arrowLeftImg from '../../images/icons/arrow-left.svg'\nimport emptyCartImg from '../../images/empty-cart.svg'\nimport { Btn } from '../btn/Btn'\n\nimport \"./Cart.scss\"\nimport { CartItem } from '../cart-item/CartItem'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nfunction Cart() {\n  const cart = useSelector((state) => state.cart.cart)\n\n  // Вычисления\n  let cartPrice = 0\n  let cartLength = 0\n  // 1. Пройти циклом и сумировать\n  Object.values(cart).forEach(function (cartItem) {\n    cartPrice += cartItem.count * cartItem.pizza.price\n    cartLength += cartItem.count\n  })\n\n  if (!Object.keys(cart).length) {\n    return (\n      <div className=\"container\">\n        <div className=\"Cart\" style={{ textAlign: 'center' }}>\n          <Link to=\"/\">\n            <img src={emptyCartImg} />\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"Cart\">\n        <div className=\"Cart__title-wrap\">\n          <div className=\"Cart__title\">\n            <img src={cartImg} />\n            <h1>Корзина</h1>\n          </div>\n          <Btn className=\"Cart__clear-btn\">\n            <img src={basketImg} />\n            <span>Очистить корзину</span>\n          </Btn>\n        </div>\n        <div className=\"Cart__list\">\n          {Object.values(cart)\n            .map(cartItem => (\n              <CartItem\n                item={cartItem}\n                key={cartItem.pizza.id}\n              />\n            ))}\n        </div>\n        <div className=\"Cart__summary\">\n          <div className=\"Cart__count\">\n            Всего пицц: <b>{cartLength} шт.</b>\n          </div>\n          <div className=\"Cart__sum\">\n            Сумма заказа: <b>{cartPrice} ₽</b>\n          </div>\n        </div>\n        <div className=\"Cart__actions\">\n          <Btn className=\"Cart__back\" to=\"/\">\n            <img src={arrowLeftImg} />\n            <span>Вернуться назад</span>\n          </Btn>\n          <Btn>Оплатить сейчас</Btn>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport { Cart }\n","export default __webpack_public_path__ + \"static/media/cart.d05720f2.svg\";","import { useSelector } from 'react-redux'\nimport CartImg from '../../images/icons/cart.svg'\nimport { Btn } from '../btn/Btn'\nimport './CartBtn.scss'\n\nfunction CartBtn() {\n  const cart = useSelector((state) => state.cart.cart)\n\n  // Вычисления\n  let cartPrice = 0\n  let cartLength = 0\n  // 1. Пройти циклом и сумировать\n  Object.values(cart).forEach(function (cartItem) {\n    cartPrice += cartItem.count * cartItem.pizza.price\n    cartLength += cartItem.count\n  })\n\n  return (\n    <Btn className=\"CartBtn\" to=\"/cart\" style={{ textDecoration: 'none' }}>\n      <span className=\"CartBtn__price\">{cartPrice} ₽</span>\n      <img className=\"CartBtn__icon\" src={CartImg} />\n      <span className=\"CartBtn__count\">{cartLength}</span>\n    </Btn>\n  )\n}\n\nexport { CartBtn }","export default __webpack_public_path__ + \"static/media/logo.0c2284f9.svg\";","import logo from '../../images/logo.svg'\n\nfunction Logo() {\n  return (\n    <div className=\"Logo\">\n      <img src={logo} />\n    </div>\n  )\n}\n\nexport {Logo}","import { CartBtn } from \"../cart-btn/CartBtn\"\nimport { Logo } from \"../logo/Logo\"\n\nimport \"./Header.scss\"\n\nfunction Header() {\n  return (\n    <header className=\"Header\">\n      <div className=\"container\">\n        <Logo />\n        <CartBtn />\n      </div>\n    </header>\n  )\n}\n\nexport {Header}","const ERR_500 = {\n  code: 500,\n  message: 'Internal Server Error'\n}\n\nlet ID = 1\n\nconst PIZZAS = [\n  {\n    id: ID++,\n    name: 'Чизбургер-пицца',\n    price: 395,\n  },\n  {\n    id: ID++,\n    name: 'Сырная',\n    price: 450,\n  },\n  {\n    id: ID++,\n    name: 'Креветки по-азиатски',\n    price: 290,\n  },\n  {\n    id: ID++,\n    name: 'Сырный цыпленок',\n    price: 385,\n  },\n  {\n    id: ID++,\n    name: 'Чизбургер-пицца',\n    price: 395,\n  },\n  {\n    id: ID++,\n    name: 'Сырная',\n    price: 450,\n  },\n  {\n    id: ID++,\n    name: 'Креветки по-азиатски',\n    price: 290,\n  },\n  {\n    id: ID++,\n    name: 'Сырный цыпленок',\n    price: 385,\n  },\n].map((p, idx) => ({...p, image: require(`../images/pizzas/${idx+1 > 9 ? idx+1 : '0'+(idx+1)}.png`).default}))\n\nexport const api = {\n  getPizzas() {\n    return new Promise(function(resolve, reject) {\n      setTimeout(() => {\n        if (Math.random() > 0.2) {\n          resolve({\n            pizzas: PIZZAS\n          })\n        }\n\n        reject({\n          error: ERR_500\n        })\n      }, Math.floor(Math.random() * 3) * 1000)\n    })\n  }\n}","import './PizzaItem.scss'\nimport { Btn } from '../btn/Btn'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { addToCart } from '../../store/cart'\n\nfunction PizzaItem(props) {\n  const { pizza } = props\n\n  const cart = useSelector((state) => state.cart.cart)\n  const dispatch = useDispatch()\n\n  const cartData = cart[pizza.id]\n\n  return (\n    <div className=\"PizzaItem\">\n      <img className=\"PizzaItem__img\" src={pizza.image} />\n      <h3 className=\"PizzaItem__name\">{pizza.name}</h3>\n      <div className=\"PizzaItem__controls\">\n        <strong className=\"PizzaItem__price\">от {pizza.price} ₽</strong>\n        <Btn theme=\"outline\" onClick={() => dispatch(addToCart({ pizza }))}>\n          <span>+ Добавить</span>\n          {cartData && (\n            <span className=\"PizzaItem__count\">\n              {cartData.count}\n            </span>\n          )}\n        </Btn>\n      </div>\n    </div>\n  )\n}\n\nexport { PizzaItem }","import { createSlice } from '@reduxjs/toolkit'\n\nexport const pizzaSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    loading: false,\n    error: null,\n    list: [],\n  },\n  reducers: {\n    setLoading: (state, {payload: loading}) => {\n      state.loading = loading\n    },\n    setError: (state, {payload: error}) => {\n      state.error = error\n    },\n    setPizzasList: (state, {payload: pizzas}) => {\n      state.list = pizzas\n    },\n  },\n})\n\nexport const { setLoading, setError, setPizzasList } = pizzaSlice.actions\n\nexport default pizzaSlice.reducer","import { useEffect, useState } from \"react\"\nimport { api } from \"../../api\"\nimport { PizzaItem } from \"../pizza-item/PizzaItem\"\nimport './PizzaList.scss'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setLoading, setPizzasList, setError } from '../../store/pizza'\n\nfunction PizzaList() {\n  const dispatch = useDispatch()\n  const pizzas = useSelector((state) => state.pizzas)\n\n  useEffect(() => {\n    loadPizzas()\n  }, [])\n\n  const loadPizzas = () => {\n    if (pizzas.list.length) return\n\n    dispatch(setLoading(true))\n\n    api.getPizzas()\n      .then(res => dispatch(setPizzasList(res.pizzas)))\n      .catch(err => dispatch(setError(err.error)))\n      .finally(() => dispatch(setLoading(false)))\n  }\n\n  console.log(pizzas);\n\n  if (pizzas.loading) return <div>Загрузка...</div>\n\n  if (pizzas.error) return <div>Ошибка: {pizzas.error.code} - {pizzas.error.message}</div>\n\n  return (\n    <div className=\"PizzaList\">\n      <div className=\"container\">\n        <h1 className=\"PizzaList__title\">Все пиццы</h1>\n\n        <div className=\"PizzaList__wrap\">\n          {pizzas.list.map((pizzaData, idx) => (\n            <PizzaItem pizza={pizzaData} key={idx} />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport {PizzaList}","import {Switch, Route} from 'react-router-dom'\nimport { Cart } from \"./components/cart/Cart\";\nimport { Header } from \"./components/header/Header\";\nimport { PizzaList } from \"./components/pizza-list/PizzaList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route path=\"/cart\">\n          <Header />\n          <Cart />\n        </Route>\n        <Route path=\"/\">\n          <Header />\n          <PizzaList />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport cartReducer from './cart'\nimport pizzasReducer from './pizza'\n\nexport const store = configureStore({\n  reducer: {\n    cart: cartReducer,\n    pizzas: pizzasReducer,\n  }\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport App from './App';\nimport './styles/style.scss';\n\nimport { store } from './store';\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}